import React, { useState, useEffect, useMemo } from 'react';
import { 
  TrendingUp, Calendar, BookOpen, Shield, Zap, Coffee, Plus,
  BarChart2, BrainCircuit, Lock, ChevronRight, Target, Maximize2,
  Clock, Save, Loader2, User, LogOut, CheckCircle2, Calculator,
  Activity, Globe, PlayCircle, Layers, Flame, Crown, Sparkles, Fingerprint
} from 'lucide-react';

// Firebase Imports
import { initializeApp } from 'firebase/app';
import { 
  getAuth, 
  onAuthStateChanged, 
  signInAnonymously, 
  signInWithCustomToken 
} from 'firebase/auth';
import { 
  getFirestore, 
  doc, 
  setDoc, 
  collection, 
  onSnapshot, 
  addDoc, 
  serverTimestamp
} from 'firebase/firestore';

// Firebase Configuration
const firebaseConfig = JSON.parse(__firebase_config);
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);
const appId = typeof __app_id !== 'undefined' ? __app_id : 'investhaus-planner';

const App = () => {
  const [activeTab, setActiveTab] = useState('manifesto');
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);
  const [syncing, setSyncing] = useState(false);
  
  // App State
  const [dailyData, setDailyData] = useState({
    bias: '',
    narrative: '',
    watchlist: [{ ticker: '', level: '', bias: '' }],
    rules: { sl: false, revenge: false, journal: false }
  });
  const [trades, setTrades] = useState([]);
  
  const [currentDate] = useState(new Date().toLocaleDateString('en-US', { 
    weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' 
  }));

  // --- AUTHENTICATION FLOW ---
  useEffect(() => {
    const initAuth = async () => {
      try {
        if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
          await signInWithCustomToken(auth, __initial_auth_token);
        } else if (!auth.currentUser) {
          await signInAnonymously(auth);
        }
      } catch (err) { console.error(err); }
    };
    initAuth();
    const unsubscribe = onAuthStateChanged(auth, (u) => {
      setUser(u);
      setLoading(false);
    });
    return () => unsubscribe();
  }, []);

  // --- DATA SYNCING ---
  useEffect(() => {
    if (!user) return;
    const dailyDocRef = doc(db, 'artifacts', appId, 'users', user.uid, 'planner', 'current_daily');
    const unsubDaily = onSnapshot(dailyDocRef, (docSnap) => {
      if (docSnap.exists()) setDailyData(docSnap.data());
    });
    const tradesRef = collection(db, 'artifacts', appId, 'users', user.uid, 'trades');
    const unsubTrades = onSnapshot(tradesRef, (snapshot) => {
      const list = snapshot.docs.map(d => ({ id: d.id, ...d.data() }));
      setTrades(list.sort((a, b) => (b.timestamp?.seconds || 0) - (a.timestamp?.seconds || 0)));
    });
    return () => { unsubDaily(); unsubTrades(); };
  }, [user]);

  const saveDailyData = async (newData) => {
    if (!user) return;
    setSyncing(true);
    try {
      const dailyDocRef = doc(db, 'artifacts', appId, 'users', user.uid, 'planner', 'current_daily');
      await setDoc(dailyDocRef, newData, { merge: true });
    } catch (err) { console.error(err); }
    finally { setTimeout(() => setSyncing(false), 500); }
  };

  const addTrade = async (trade) => {
    if (!user) return;
    try {
      const tradesRef = collection(db, 'artifacts', appId, 'users', user.uid, 'trades');
      await addDoc(tradesRef, { ...trade, timestamp: serverTimestamp() });
    } catch (err) { console.error(err); }
  };

  if (loading) return (
    <div className="h-screen bg-[#050505] flex items-center justify-center">
      <Loader2 className="text-amber-500 animate-spin" size={40} />
    </div>
  );

  const menuItems = [
    { id: 'manifesto', label: 'MANIFESTO', icon: <Shield size={18} />, sub: 'The Code & Culture' },
    { id: 'daily', label: 'DAILY EDGE', icon: <Zap size={18} />, sub: 'Strategic Execution' },
    { id: 'weekly', label: 'WEEKLY SYNC', icon: <Calendar size={18} />, sub: 'Review & Refresh' },
    { id: 'journal', label: 'TRADE VAULT', icon: <Lock size={18} />, sub: 'Performance Logs' },
    { id: 'education', label: 'THE ACADEMY', icon: <BookOpen size={18} />, sub: 'Intel Archives' },
  ];

  return (
    <div className="flex h-screen bg-[#020202] text-zinc-300 font-sans overflow-hidden selection:bg-amber-500/30">
      {/* Sidebar */}
      <aside className="w-64 border-r border-white/5 flex flex-col p-6 bg-[#050505] z-30 shadow-2xl">
        <div className="mb-12 flex flex-col items-center">
          <div className="relative group cursor-pointer">
            <div className="absolute -inset-2 bg-gradient-to-r from-amber-500 to-amber-900 rounded-sm blur opacity-20 group-hover:opacity-60 transition duration-1000"></div>
            <div className="relative w-16 h-16 bg-black border border-amber-500/40 rounded-sm flex items-center justify-center">
              <span className="text-amber-500 font-black text-2xl italic uppercase tracking-tighter">H</span>
            </div>
          </div>
          <h1 className="text-2xl font-black tracking-[0.2em] text-white uppercase italic mt-6 leading-none">Investhaus</h1>
          <p className="text-[10px] text-amber-500 font-black tracking-[0.4em] uppercase mt-2 italic text-center leading-tight">THE MANOR <br/> <span className="opacity-50 text-[8px]">HQ</span></p>
        </div>

        <nav className="flex-1 space-y-8 overflow-y-auto no-scrollbar">
          <div>
            <p className="text-[9px] text-zinc-600 font-bold uppercase tracking-[0.2em] mb-4 px-4 flex items-center gap-2">
              <Activity size={10} /> ACCESS TERMINAL
            </p>
            {menuItems.slice(0, 4).map(item => (
              <button
                key={item.id}
                onClick={() => setActiveTab(item.id)}
                className={`w-full flex items-center justify-between px-4 py-4 rounded-sm transition-all duration-300 mb-1 ${
                  activeTab === item.id 
                    ? 'bg-amber-500/10 text-amber-500 border-l-4 border-amber-500 shadow-[0_0_20px_rgba(245,158,11,0.1)]' 
                    : 'text-zinc-500 hover:bg-white/5 hover:text-zinc-200'
                }`}
              >
                <div className="flex flex-col items-start">
                  <div className="flex items-center space-x-3">
                    {item.icon}
                    <span className="font-black tracking-widest uppercase text-[10px] italic">{item.label}</span>
                  </div>
                  {activeTab === item.id && <span className="text-[7px] mt-1 ml-7 text-amber-500/50 font-bold tracking-tighter uppercase">{item.sub}</span>}
                </div>
              </button>
            ))}
          </div>
          
          <div>
            <p className="text-[9px] text-zinc-600 font-bold uppercase tracking-[0.2em] mb-4 px-4 flex items-center gap-2">
              <Crown size={10} /> LEGACY INTEL
            </p>
            {menuItems.slice(4).map(item => (
              <button
                key={item.id}
                onClick={() => setActiveTab(item.id)}
                className={`w-full flex items-center justify-between px-4 py-4 rounded-sm transition-all duration-300 mb-1 ${
                  activeTab === item.id 
                    ? 'bg-amber-500/10 text-amber-500 border-l-4 border-amber-500 shadow-[0_0_20px_rgba(245,158,11,0.1)]' 
                    : 'text-zinc-500 hover:bg-white/5 hover:text-zinc-200'
                }`}
              >
                <div className="flex flex-col items-start">
                  <div className="flex items-center space-x-3">
                    {item.icon}
                    <span className="font-black tracking-widest uppercase text-[10px] italic">{item.label}</span>
                  </div>
                </div>
              </button>
            ))}
          </div>
        </nav>

        <div className="mt-auto pt-6 border-t border-white/5">
          <div className="p-4 bg-zinc-900/40 border border-white/5 rounded-sm relative overflow-hidden group">
            <div className="absolute top-0 right-0 p-2 opacity-5"><Crown size={20} /></div>
            <div className="flex items-center space-x-3">
              <div className="w-10 h-10 rounded-sm bg-amber-500 flex items-center justify-center text-black font-black text-xs italic">IH</div>
              <div className="flex-1 overflow-hidden">
                <p className="text-[10px] font-black text-white truncate uppercase tracking-tighter italic">Legacy Architect</p>
                <p className="text-[8px] text-amber-500 font-mono truncate uppercase tracking-[0.1em]">EST. IN EXCELLENCE</p>
              </div>
            </div>
          </div>
        </div>
      </aside>

      {/* Main Workspace */}
      <main className="flex-1 overflow-y-auto relative bg-[#020202]">
        <div className="absolute top-0 right-0 w-[600px] h-[600px] bg-amber-500/[0.04] blur-[150px] pointer-events-none"></div>

        <header className="px-10 py-7 flex justify-between items-center sticky top-0 bg-[#020202]/95 backdrop-blur-xl z-20 border-b border-white/5">
          <div className="flex items-center space-x-10">
            <h2 className="text-2xl font-black text-white tracking-tighter uppercase italic flex items-center gap-4">
               <span className="text-amber-500 text-sm">/</span> {menuItems.find(i => i.id === activeTab)?.label}
            </h2>
            <div className="hidden lg:flex items-center space-x-8 text-[10px] font-black uppercase tracking-[0.2em]">
              <div className="flex items-center gap-2 text-zinc-500"><Globe size={13} className="text-amber-500"/> NEW YORK: <span className="text-green-500">ACTIVE</span></div>
              <div className="flex items-center gap-2 text-zinc-700 opacity-50"><Globe size={13}/> LONDON: <span>CLOSED</span></div>
            </div>
          </div>
          
          <div className="flex items-center space-x-6">
            {syncing && <div className="flex items-center gap-2 text-[10px] font-black text-amber-500 animate-pulse uppercase tracking-widest"><Loader2 size={13} className="animate-spin" /> SYNCING...</div>}
            <div className="px-4 py-2 bg-amber-500 text-black rounded-sm text-[10px] font-black tracking-widest uppercase italic shadow-[0_0_20px_rgba(245,158,11,0.2)]">MANOR HQ</div>
          </div>
        </header>

        <div className="p-10 max-w-6xl mx-auto pb-40">
          {activeTab === 'manifesto' && <ManifestoView />}
          {activeTab === 'daily' && (
            <DailyEdgeView 
              data={dailyData} 
              onUpdate={(update) => {
                const updated = { ...dailyData, ...update, lastSaved: Date.now() };
                setDailyData(updated);
                saveDailyData(updated);
              }} 
            />
          )}
          {activeTab === 'weekly' && <WeeklySyncView trades={trades} />}
          {activeTab === 'journal' && <TradeVaultView trades={trades} onAdd={addTrade} />}
          {activeTab === 'education' && <EducationView />}
        </div>

        {/* Scrolling Ticker */}
        <div className="fixed bottom-0 right-0 left-64 h-12 bg-black border-t border-white/10 flex items-center overflow-hidden z-20">
          <div className="flex whitespace-nowrap animate-ticker py-2 text-[11px] font-mono text-zinc-600 font-bold">
            {Array(15).fill(0).map((_, i) => (
              <span key={i} className="mx-10 uppercase flex items-center gap-4">
                <span className="text-amber-500 font-black italic tracking-tighter">INVESTHAUS</span> 
                <span>•</span>
                <span className="text-white">$GOLD:</span> <span className="text-green-500">2042.80</span> 
                <span>•</span>
                <span className="text-white">$BTC:</span> <span className="text-green-500">42,500</span>
                <span>•</span>
                <span className="text-amber-500 italic">MANOR TERMINAL ACTIVE</span>
              </span>
            ))}
          </div>
        </div>
      </main>

      <style>{`
        @keyframes ticker { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
        .animate-ticker { animation: ticker 40s linear infinite; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
      `}</style>
    </div>
  );
};

/* View Components */

const ManifestoView = () => (
  <div className="animate-in fade-in slide-in-from-bottom-12 duration-1000 max-w-5xl py-12">
    <div className="inline-flex items-center gap-6 mb-10">
      <div className="h-[2px] w-16 bg-amber-500"></div>
      <span className="text-amber-500 font-black text-xs uppercase tracking-[0.6em] italic">The Code of the Manor</span>
    </div>
    <h1 className="text-9xl font-black text-white mb-14 tracking-tighter leading-[0.8] italic uppercase opacity-[0.98]">
      The <br/>
      <span className="text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-amber-500 to-amber-800">Manifesto</span>
    </h1>
    
    <div className="grid grid-cols-1 lg:grid-cols-2 gap-24 border-l-2 border-amber-500/20 pl-16 py-8 relative">
      <div className="absolute top-0 left-[-3px] w-1.5 h-32 bg-amber-500 shadow-[0_0_20px_rgba(245,158,11,0.5)]"></div>
      <div className="space-y-10">
        <p className="text-3xl leading-tight font-black italic text-zinc-100 uppercase tracking-tight">
          Welcome to <span className="text-amber-500 italic">Investhaus</span>. <br/> We don't trade for crumbs; we build for centuries. This is the blueprint for sovereign wealth.
        </p>
        <p className="text-sm text-zinc-500 leading-relaxed uppercase tracking-[0.2em] font-black">
          Sovereignty isn't a goal; it's a prerequisite. We operate with absolute precision, move with purpose, and maintain detachment from noise. The process is the prize.
        </p>
      </div>
      <div className="space-y-16">
        <section className="group">
          <div className="flex items-center gap-6 mb-4">
            <div className="w-10 h-10 rounded-sm bg-white/5 border border-white/10 flex items-center justify-center text-amber-500 group-hover:bg-amber-500 group-hover:text-black transition-all italic font-black text-lg">01</div>
            <h4 className="text-white font-black text-sm uppercase tracking-widest italic underline decoration-amber-500/30 underline-offset-8">Radical Ownership</h4>
          </div>
          <p className="text-[12px] text-zinc-600 leading-relaxed uppercase font-black tracking-tight">The market doesn't owe you anything. Every candle is a test of your discipline. Master yourself, master the charts.</p>
        </section>
        <section className="group">
          <div className="flex items-center gap-6 mb-4">
            <div className="w-10 h-10 rounded-sm bg-white/5 border border-white/10 flex items-center justify-center text-amber-500 group-hover:bg-amber-500 group-hover:text-black transition-all italic font-black text-lg">02</div>
            <h4 className="text-white font-black text-sm uppercase tracking-widest italic underline decoration-amber-500/30 underline-offset-8">Culture Over Crowd</h4>
          </div>
          <p className="text-[12px] text-zinc-600 leading-relaxed uppercase font-black tracking-tight">The crowd reacts. The Manor positions. We do not chase; we attract profit through prepared execution.</p>
        </section>
      </div>
    </div>
  </div>
);

const DailyEdgeView = ({ data, onUpdate }) => {
  const [calc, setCalc] = useState({ account: 10000, risk: 1, sl: 10, result: 0 });
  const calculatePosition = () => {
    const riskAmt = calc.account * (calc.risk / 100);
    const size = riskAmt / calc.sl;
    setCalc({ ...calc, result: size.toFixed(2) });
  };

  return (
    <div className="space-y-12 animate-in fade-in duration-700">
      <div className="grid grid-cols-1 lg:grid-cols-4 gap-8">
        {/* Heat Sensor */}
        <div className="bg-[#080808] border border-white/10 p-8 rounded-sm relative overflow-hidden group">
          <div className="absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-20 transition-opacity"><Sparkles size={50} /></div>
          <p className="text-[10px] font-black text-zinc-600 uppercase tracking-[0.3em] mb-8">Volatility Index</p>
          <div className="space-y-6">
             <div className="flex justify-between items-center text-[11px] font-black text-amber-500 italic uppercase tracking-tighter">
               <span>Market Temp</span>
               <span>Extreme Prep</span>
             </div>
             <div className="h-2.5 w-full bg-white/5 rounded-full overflow-hidden flex p-[2px] border border-white/5">
               <div className="h-full bg-amber-500/20 w-1/3 border-r border-black/50"></div>
               <div className="h-full bg-amber-500/50 w-1/3 border-r border-black/50"></div>
               <div className="h-full bg-amber-500 w-1/3 shadow-[0_0_15px_rgba(245,158,11,0.6)]"></div>
             </div>
             <p className="text-[9px] text-zinc-600 uppercase italic text-center font-black tracking-widest">Temperature is high. Respect the code.</p>
          </div>
        </div>

        <div className="bg-[#080808] border border-white/10 p-8 rounded-sm lg:col-span-1">
          <p className="text-[10px] font-black text-zinc-600 uppercase tracking-[0.3em] mb-8 italic">Market Bias</p>
          <div className="flex flex-col gap-3">
            {['Bullish', 'Neutral', 'Bearish'].map(s => (
              <button 
                key={s} 
                onClick={() => onUpdate({ bias: s })}
                className={`w-full py-4 text-[10px] font-black uppercase tracking-widest border rounded-sm transition-all italic ${
                  data.bias === s ? 'bg-amber-500 text-black border-amber-500 shadow-[0_0_25px_rgba(245,158,11,0.3)]' : 'border-white/5 text-zinc-500 hover:bg-white/5'
                }`}
              >
                {s}
              </button>
            ))}
          </div>
        </div>

        {/* Risk Calculator */}
        <div className="lg:col-span-2 bg-[#080808] border border-white/10 p-8 rounded-sm relative group">
          <div className="absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-20 transition-opacity"><Calculator size={50} /></div>
          <p className="text-[10px] font-black text-zinc-600 uppercase tracking-[0.3em] mb-8">Risk Calculator</p>
          <div className="grid grid-cols-2 lg:grid-cols-4 gap-6">
             <div className="space-y-2">
                <label className="text-[9px] text-zinc-600 uppercase font-black italic">Equity</label>
                <input type="number" value={calc.account} onChange={(e) => setCalc({...calc, account: e.target.value})} className="w-full bg-black border border-white/10 rounded-sm px-4 py-3 text-xs text-white outline-none focus:border-amber-500/50" />
             </div>
             <div className="space-y-2">
                <label className="text-[9px] text-zinc-600 uppercase font-black italic">Risk %</label>
                <input type="number" value={calc.risk} onChange={(e) => setCalc({...calc, risk: e.target.value})} className="w-full bg-black border border-white/10 rounded-sm px-4 py-3 text-xs text-amber-500 outline-none focus:border-amber-500/50" />
             </div>
             <div className="space-y-2">
                <label className="text-[9px] text-zinc-600 uppercase font-black italic">SL (Pips)</label>
                <input type="number" value={calc.sl} onChange={(e) => setCalc({...calc, sl: e.target.value})} className="w-full bg-black border border-white/10 rounded-sm px-4 py-3 text-xs text-white outline-none focus:border-amber-500/50" />
             </div>
             <div className="flex flex-col justify-end">
                <button onClick={calculatePosition} className="w-full py-3 bg-white text-black text-[10px] font-black uppercase tracking-[0.2em] rounded-sm italic hover:bg-amber-500 transition-colors">Calculate</button>
             </div>
          </div>
          {calc.result > 0 && <div className="mt-6 flex items-center gap-6 bg-white/[0.03] p-4 rounded-sm border border-white/5 shadow-inner"><span className="text-[10px] text-zinc-500 uppercase font-black italic">Target Lot:</span><span className="text-3xl font-black text-white italic tracking-tighter underline decoration-amber-500 decoration-2">{calc.result}</span></div>}
        </div>
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-2 gap-16 pt-8">
        <div className="space-y-6">
          <h4 className="text-[11px] font-black text-white uppercase tracking-[0.4em] flex items-center gap-4 italic text-amber-500">
            <Zap size={15}/> The Daily Blueprint
          </h4>
          <textarea 
            value={data.narrative || ''}
            onChange={(e) => onUpdate({ narrative: e.target.value })}
            placeholder="Explain the strategy. What's the narrative today?"
            className="w-full bg-[#080808] border border-white/10 rounded-sm p-8 text-sm h-72 focus:border-amber-500/40 outline-none resize-none leading-relaxed text-zinc-400 shadow-2xl font-mono uppercase tracking-tight"
          ></textarea>
        </div>

        <div className="space-y-8">
          <h4 className="text-[11px] font-black text-white uppercase tracking-[0.4em] italic text-amber-500">The Edge Protocol</h4>
          <div className="bg-[#080808] border border-white/10 rounded-sm p-10 space-y-8 relative overflow-hidden">
             <div className="absolute -bottom-16 -right-16 opacity-[0.03] rotate-12"><Crown size={250} /></div>
            {Object.entries({ 
              sl: 'EXECUTE HARD STOPS WITHOUT EMOTION', 
              revenge: 'ZERO REVENGE DEPLOYMENTS', 
              journal: 'MANDATORY LOGGING OF EVERY EXIT' 
            }).map(([key, label]) => (
              <label key={key} className="flex items-center space-x-6 text-[11px] font-black uppercase text-zinc-500 hover:text-white cursor-pointer group transition-all italic tracking-tighter relative z-10">
                <input 
                  type="checkbox" 
                  checked={data.rules?.[key] || false}
                  onChange={(e) => onUpdate({ rules: { ...data.rules, [key]: e.target.checked } })}
                  className="w-6 h-6 rounded-sm bg-black border-2 border-white/10 accent-amber-500 appearance-none checked:bg-amber-500 checked:border-amber-500" 
                />
                <span className="group-hover:translate-x-2 transition-transform">{label}</span>
              </label>
            ))}
          </div>
        </div>
      </div>
    </div>
  );
};

const TradeVaultView = ({ trades, onAdd }) => {
  const [newTrade, setNewTrade] = useState({ ticker: '', side: 'Long', pnl: '' });
  return (
    <div className="space-y-12 animate-in fade-in duration-700">
      <div className="flex flex-col lg:flex-row lg:items-end justify-between gap-8 mb-16 border-b border-white/5 pb-10">
        <div>
          <h3 className="text-5xl font-black text-white italic uppercase tracking-tighter">Trade Vault</h3>
          <p className="text-[11px] text-zinc-600 font-black uppercase tracking-[0.4em] mt-2 italic">Historical Wealth Records</p>
        </div>
        <div className="flex flex-wrap gap-4">
          <input value={newTrade.ticker} onChange={(e) => setNewTrade({...newTrade, ticker: e.target.value.toUpperCase()})} placeholder="ASSET" className="bg-[#080808] border border-white/10 rounded-sm px-5 py-3 text-[11px] font-black text-white focus:border-amber-500 outline-none w-32 uppercase tracking-widest" />
          <input value={newTrade.pnl} onChange={(e) => setNewTrade({...newTrade, pnl: e.target.value})} placeholder="RESULT ($)" className="bg-[#080808] border border-white/10 rounded-sm px-5 py-3 text-[11px] font-black text-white focus:border-amber-500 outline-none w-40 tracking-widest" />
          <button onClick={() => { if (newTrade.ticker && newTrade.pnl) { onAdd(newTrade); setNewTrade({ ticker: '', side: 'Long', pnl: '' }); } }} className="bg-amber-500 text-black px-8 py-3 rounded-sm font-black text-[11px] uppercase italic tracking-[0.1em] shadow-[0_0_30px_rgba(245,158,11,0.2)] hover:bg-white transition-all">Log Trade</button>
        </div>
      </div>

      <div className="grid grid-cols-1 gap-2">
        {trades.map((t, idx) => (
          <div key={idx} className="flex items-center justify-between px-10 py-8 bg-white/[0.01] hover:bg-white/[0.04] transition-all border border-white/5 group rounded-sm shadow-xl">
             <div className="flex items-center gap-12">
                <span className="text-[10px] font-mono text-zinc-700 font-black">BATCH: {idx.toString().padStart(4, '0')}</span>
                <span className="text-3xl font-black text-white italic uppercase tracking-tighter group-hover:text-amber-500 transition-colors">{t.ticker}</span>
             </div>
             <div className="flex items-center gap-16">
                <div className={`text-[10px] font-black uppercase tracking-[0.3em] px-4 py-1.5 border-2 rounded-sm italic ${t.pnl.includes('+') ? 'border-amber-500/30 text-amber-500 bg-amber-500/5' : 'border-red-900/30 text-red-700 bg-red-900/5'}`}>
                   {t.pnl.includes('+') ? 'SUCCESS' : 'LOSS'}
                </div>
                <span className={`text-3xl font-mono font-black italic tracking-tighter ${t.pnl.includes('+') ? 'text-green-500' : 'text-red-500'}`}>
                   {t.pnl}
                </span>
             </div>
          </div>
        ))}
      </div>
    </div>
  );
};

const WeeklySyncView = () => (
  <div className="animate-in fade-in duration-700 py-16">
    <div className="max-w-5xl mx-auto">
      <div className="flex items-end justify-between mb-16">
        <h3 className="text-6xl font-black text-white italic uppercase tracking-tighter">Weekly Sync</h3>
        <p className="text-[11px] font-black text-amber-500 uppercase tracking-[0.4em] italic">Culture & Reflection</p>
      </div>
      <div className="grid grid-cols-1 md:grid-cols-2 gap-10">
        <div className="p-10 bg-[#080808] border border-white/10 rounded-sm flex flex-col items-center justify-center space-y-6">
           <BrainCircuit size={50} className="text-amber-500 opacity-20" />
           <p className="text-[11px] font-black text-zinc-600 uppercase tracking-[0.4em]">Consistency Rate</p>
           <p className="text-5xl font-black text-white italic tracking-tighter">88%</p>
        </div>
        <div className="p-10 bg-[#080808] border border-white/10 rounded-sm flex flex-col items-center justify-center space-y-6">
           <Sofa size={50} className="text-amber-500 opacity-20" />
           <p className="text-[11px] font-black text-zinc-600 uppercase tracking-[0.4em]">Mental State</p>
           <p className="text-5xl font-black text-white italic tracking-tighter">PEAK</p>
        </div>
      </div>
    </div>
  </div>
);

const EducationView = () => (
  <div className="space-y-16 animate-in fade-in duration-700 py-12">
    <div className="p-16 bg-gradient-to-br from-[#080808] to-black border border-white/10 rounded-sm relative overflow-hidden shadow-2xl">
       <div className="absolute top-0 right-0 p-16 text-white/5 pointer-events-none"><Library size={220} /></div>
       <div className="relative z-10">
          <p className="text-amber-500 font-black text-xs uppercase tracking-[0.7em] mb-6 italic">Master Curriculum</p>
          <h3 className="text-7xl font-black text-white italic uppercase tracking-tighter mb-10 leading-none">The Academy</h3>
          <p className="text-zinc-500 text-lg max-w-2xl uppercase font-black tracking-tighter mb-12 opacity-80 leading-tight italic">Blueprint for sovereignty. Master the data. Build the legacy.</p>
          <button className="bg-white text-black font-black text-[11px] uppercase px-10 py-4 tracking-[0.3em] hover:bg-amber-500 transition-all italic shadow-2xl">Access Archives</button>
       </div>
    </div>
    <div className="grid grid-cols-1 md:grid-cols-3 gap-10">
       {['The Foundation', 'Advanced Alchemy', 'Wealth Ledger'].map((book, i) => (
         <div key={book} className="group p-10 bg-[#080808] border border-white/10 rounded-sm hover:border-amber-500/50 transition-all cursor-pointer relative overflow-hidden">
            <div className="absolute top-0 right-0 p-4 opacity-[0.02] text-white"><Shield size={80}/></div>
            <div className="text-zinc-800 text-7xl font-black mb-6 italic group-hover:text-amber-500 transition-colors opacity-30">0{i+1}</div>
            <h4 className="text-white font-black text-sm uppercase tracking-[0.2em] mb-4 italic">{book}</h4>
            <p className="text-zinc-600 text-[10px] leading-relaxed uppercase font-black tracking-widest italic">Core Requirements for Legacy Architects.</p>
         </div>
       ))}
    </div>
  </div>
);

export default App;
